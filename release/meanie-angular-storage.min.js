/**
 * meanie-angular-storage - v1.0.3 - 4-10-2015
 * https://github.com/meanie/angular-storage
 *
 * Copyright (c) 2015 Adam Buczynski <me@adambuczynski.com>
 * License: MIT
 */
!function(e,t,n){"use strict";t.module("Storage.Service",["Storage.MemoryStorage.Service","Storage.CookieStorage.Service","Storage.SessionStorage.Service","Storage.LocalStorage.Service"]).provider("$storage",function(){this.prefix="",this.enabledStorageEngines=["local","session","cookie","memory"],this.defaultStorageEngine="local",this.setPrefix=function(e){return e&&"."!==e.substr(-1)&&(e+="."),this.prefix=e,this},this.setEnabledStorageEngines=function(e){return t.isArray(e)&&(this.enabledStorageEngines=e),this},this.setDefaultStorageEngine=function(e){return this.defaultStorageEngine=e,this},this.$get=["$parse","$injector",function(e,n){function r(e){return"$"+e+"Storage"}function o(e){if(S[e])return S[e];var i=r(e),a=n.get(i);if("memory"!==e&&!a.isSupported()){var u;t.isFunction(a.getFallbackEngine)&&(u=a.getFallbackEngine()),u=u||"memory",console.warn("Storage engine",e,"not supported in this browser.","Using fallback engine",u,"instead."),a=o(u)}return S[e]=a}function i(e){return e?g+e:""}function a(e){return/^-?\d+\.?\d*$/.test(e.replace(/["']/g,""))}function u(e){return"{"===e.charAt(0)||"["===e.charAt(0)}function c(e){return t.isUndefined(e)||null===e?null:t.isObject(e)||t.isArray(e)||t.isNumber(+e||e)?t.toJson(e):e}function s(e){if(!e||null===e||"null"===e)return null;if(u(e)||a(e))try{return t.fromJson(e)}catch(n){return null}return e}var g=this.prefix,l=this.enabledStorageEngines,f=this.defaultStorageEngine,S={};if(-1===l.indexOf(f))throw new Error("Default storage engine",f,"is not enabled.");t.forEach(l,function(e){var t=r(e);if(!n.has(t))throw new Error("Storage engine",e,"does not exist.","Make sure the service",t,"is included as a dependency.")});var d=function(e){this.engine=o(e)};d.prototype.set=function(e,t){if(e=i(e),!e)return!1;t=c(t);try{return this.engine.set(e,t),!0}catch(n){return!1}},d.prototype.get=function(e,t){if("undefined"==typeof t&&(t=null),e=i(e),!e)return t;try{var n=this.engine.get(e);return null===n?t:s(n)}catch(r){return t}},d.prototype.remove=function(e){if(e=i(e),!e)return!1;try{return this.engine.remove(e),!0}catch(t){return!1}},d.prototype.clear=function(e){e=g+(e||""),this.engine.clear(e)};var m=new d(f),h={};return h[f]=m,t.forEach(l,function(e){Object.defineProperty(m,e,{get:function(){return h[e]?h[e]:h[e]=new d(e)}})}),m}]})}(window,window.angular),function(e,t,n){"use strict";t.module("Storage.CookieStorage.Service",[]).factory("$cookieStorage",["$injector",function(e){var t;return e.has("$cookies")?t=e.get("$cookies"):console.warn("Cookie storage requires the `ngCookies` module as a dependency."),{isSupported:function(){return!!t},getFallbackEngine:function(){return"memory"},set:function(e,n){t.put(e,n)},get:function(e){return t.get(e)},remove:function(e){t.remove(e)},clear:function(e){for(var n=e?new RegExp("^"+e):null,r=t.getAll(),o=r?Object.keys(r):[],i=0;i<o.length;i++)(!e||n.test(o[i]))&&t.remove(o[i])}}}])}(window,window.angular),function(e,t,n){"use strict";t.module("Storage.LocalStorage.Service",[]).factory("$localStorage",["$window",function(e){return{isSupported:function(){var t="___"+Math.round(1e7*Math.random());try{return e.localStorage.setItem(t,""),e.localStorage.removeItem(t),!0}catch(n){return!1}},getFallbackEngine:function(){return"cookie"},set:function(t,n){e.localStorage.setItem(t,n)},get:function(t){return e.localStorage.getItem(t)},remove:function(t){e.localStorage.removeItem(t)},clear:function(t){for(var n=t?new RegExp("^"+t):null,r=Object.keys(e.localStorage),o=0;o<r.length;o++)(!t||n.test(r[o]))&&e.localStorage.removeItem(r[o])}}}])}(window,window.angular),function(e,t,n){"use strict";t.module("Storage.MemoryStorage.Service",[]).factory("$memoryStorage",function(){var e={};return{isSupported:function(){return!0},getFallbackEngine:function(){return""},set:function(t,n){e[t]=n},get:function(t){return"undefined"==typeof e[t]?null:e[t]},remove:function(t){"undefined"!=typeof e[t]&&delete e[t]},clear:function(t){for(var n=t?new RegExp("^"+t):null,r=Object.keys(e),o=0;o<r.length;o++)(!t||n.test(r[o]))&&delete e[r[o]]}}})}(window,window.angular),function(e,t,n){"use strict";t.module("Storage.SessionStorage.Service",[]).factory("$sessionStorage",["$window",function(e){return{isSupported:function(){var t="___"+Math.round(1e7*Math.random());try{return e.sessionStorage.setItem(t,""),e.sessionStorage.removeItem(t),!0}catch(n){return!1}},getFallbackEngine:function(){return"memory"},set:function(t,n){e.sessionStorage.setItem(t,n)},get:function(t){return e.sessionStorage.getItem(t)},remove:function(t){e.sessionStorage.removeItem(t)},clear:function(t){for(var n=t?new RegExp("^"+t):null,r=Object.keys(e.sessionStorage),o=0;o<r.length;o++)(!t||n.test(r[o]))&&e.sessionStorage.removeItem(r[o])}}}])}(window,window.angular);
//# sourceMappingURL=meanie-angular-storage.min.js.map
